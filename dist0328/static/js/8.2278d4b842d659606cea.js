webpackJsonp([8],{"R/QO":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("Edqs"),a=i.n(n),o={data:function(){return{imgName:"",visible:!1,uploadData:{target:"startup"},defaultList:[],rule:{},formData:{type:"1",name:"",startup:"",file:""},AdsList:[],formItem:{itemId:"1",content:""},formItem2:{itemId:"2",content:""},formItem3:{itemId:"3",content:""},formItem4:{itemId:"4",content:""},uploadList:[],imageList:[]}},computed:{},mounted:function(){this.getAdsList(),this.getAgreement(),this.getCompany(),this.getQuestion()},methods:{getAdsList:function(){var t=this;this.$post("appsetting/detail",{id:1}).then(function(e){t.AdsList=e.data.content,t.imageList=e.data.content.split(","),console.log(t.imageList)})},getAgreement:function(){var t=this;this.$post("appsetting/detail",{id:2}).then(function(e){t.formItem2=e.data})},getCompany:function(){var t=this;this.$post("appsetting/detail",{id:3}).then(function(e){t.formItem3=e.data})},getQuestion:function(){var t=this;this.$post("appsetting/detail",{id:4}).then(function(e){t.formItem4=e.data})},handleSubmit2:function(){this.$post("appsetting/edit",{content:this.formItem2.content,id:2}).then(function(t){})},handleSubmit3:function(){this.$post("appsetting/edit",{content:this.formItem3.content,id:3}).then(function(t){})},handleSubmit4:function(){this.$post("appsetting/edit",{content:this.formItem4.content,id:4}).then(function(t){})},handleSubmit5:function(){this.$post("appsetting/edit",{content:this.imageList.join(","),id:1}).then(function(t){})},handleView:function(t){this.imgName=t,this.visible=!0},handleRemove:function(t){var e=this.$refs.upload.fileList;this.$refs.upload.fileList.splice(e.indexOf(t),1)},beforeUpload:function(){return this.uploadList.length<9},delImg:function(t,e){t.splice(e,1)},delImg2:function(t,e){t.splice(e,1),this.$post("appsetting/edit",{content:t.join(","),id:1}).then(function(t){})},onSuccess:function(t,e,i){this.imageList.push(t.data.path)},handleUpload:function(t){var e=Math.random().toString().substr(2);return t.keyID=e,this.file.push(t),this.uploadFile.push(t),!1},delectFile:function(t){this.file=this.file.filter(function(t){return t.name!=name}),this.uploadFile=this.uploadFile.filter(function(e){return e.KeyID!=t})},upload:function(){for(var t=0;t<this.uploadFile.length;t++){var e=this.file[t];this.$refs.upload.post(e)}},handleFormatError:function(t){this.$Notice.warning({title:"The file format is incorrect",desc:"File format of "+t.name+" is incorrect, please select jpg or png."})},handleMaxSize:function(t){this.$Notice.warning({title:"Exceeding file size limit",desc:"File  "+t.name+" is too large, no more than 2M."})},handleBeforeUpload:function(){var t=this.uploadList.length<5;return t||this.$Notice.warning({title:"Up to five pictures can be uploaded."}),t},getLogList:function(){var t=this;this.$post("log/login",{page:0}).then(function(e){t.logList=e.data.list})},getImgUrl:function(t){},handleSubmit:function(){var t=this;console.log(this.formData);var e={};this.itemId?(e=a()({},this.formData,{id:this.itemId}),this.$post("appsetting/detail",e).then(function(e){t.modal1=!1,t.handleSearch()})):(e=a()({},this.formData),this.$post("appsetting/add",e).then(function(e){t.modal1=!1,t.handleSearch()}))}}},s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Tabs",{attrs:{type:"card"}},[i("TabPane",{attrs:{label:"引导页设置"}},[i("div",{staticClass:"startUp-box"},[i("ul",{staticClass:"startUp-ul"},t._l(t.imageList,function(e){return i("li",{key:e.id,staticClass:"startUp-li"},[i("img",{attrs:{src:e,alt:""}}),t._v(" "),i("Icon",{staticClass:"delImg",attrs:{type:"close"},nativeOn:{click:function(e){t.delImg2(t.imageList,t.index)}}})],1)}))]),t._v(" "),i("Form",{ref:"form",attrs:{model:t.formData,rules:t.rule,"label-width":100}},[i("FormItem",{attrs:{label:"",prop:"startup"}},[t._l(t.uploadList,function(e,n){return i("div",{key:e.id,staticClass:"formListImg"},[i("img",{staticClass:"formItemImg",attrs:{src:e}}),t._v(" "),i("Icon",{staticClass:"delImg",attrs:{type:"close"},nativeOn:{click:function(e){t.delImg(t.uploadList,n)}}})],1)}),t._v(" "),i("Upload",{attrs:{type:"drag",action:"http://120.24.55.58:8146//upload/upload","show-upload-list":!1,"default-file-list":t.defaultList,data:t.uploadData,name:"image",accept:".png, .jpg, .jpeg, .gif","before-upload":t.beforeUpload,"on-success":t.onSuccess}},[i("div",{staticStyle:{padding:"20px 0"}},[i("Icon",{staticStyle:{color:"#3399ff"},attrs:{type:"ios-cloud-upload",size:"52"}}),t._v(" "),i("p",[t._v("上传图片")])],1)])],2)],1),t._v(" "),i("div",{staticClass:"footer"},[i("Button",{attrs:{type:"ghost"},on:{click:function(e){t.handleSubmit5()}}},[t._v("确定")])],1)],1),t._v(" "),i("TabPane",{attrs:{label:"用户协议"}},[i("Form",{attrs:{model:t.formItem2,"label-width":0}},[i("FormItem",{attrs:{label:""}},[i("Input",{attrs:{type:"textarea",autosize:{minRows:10,maxRows:30},placeholder:"Enter something..."},model:{value:t.formItem2.content,callback:function(e){t.$set(t.formItem2,"content",e)},expression:"formItem2.content"}})],1),t._v(" "),i("FormItem",[i("Button",{staticStyle:{"margin-left":"8px"}},[t._v("取消")]),t._v(" "),i("Button",{attrs:{type:"primary"},on:{click:function(e){t.handleSubmit2()}}},[t._v("保存")])],1)],1)],1),t._v(" "),i("TabPane",{attrs:{label:"公司信息"}},[i("Form",{attrs:{model:t.formItem3,"label-width":0}},[i("FormItem",{attrs:{label:""}},[i("Input",{attrs:{type:"textarea",autosize:{minRows:10,maxRows:20},placeholder:"Enter something..."},model:{value:t.formItem3.content,callback:function(e){t.$set(t.formItem3,"content",e)},expression:"formItem3.content"}})],1),t._v(" "),i("FormItem",[i("Button",{attrs:{type:"primary"},on:{click:function(e){t.handleSubmit3()}}},[t._v("保存")]),t._v(" "),i("Button",{staticStyle:{"margin-left":"8px"}},[t._v("取消")])],1)],1)],1),t._v(" "),i("TabPane",{attrs:{label:"常见问题"}},[i("Form",{attrs:{model:t.formItem4,"label-width":0}},[i("FormItem",{attrs:{label:""}},[i("Input",{attrs:{type:"textarea",autosize:{minRows:10,maxRows:20},placeholder:"Enter something..."},model:{value:t.formItem4.content,callback:function(e){t.$set(t.formItem4,"content",e)},expression:"formItem4.content"}})],1),t._v(" "),i("FormItem",[i("Button",{attrs:{type:"primary"},on:{click:function(e){t.handleSubmit4()}}},[t._v("保存")]),t._v(" "),i("Button",{staticStyle:{"margin-left":"8px"}},[t._v("取消")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var l=i("Mz/3")(o,s,!1,function(t){i("jZHp")},"data-v-360b033b",null);e.default=l.exports},jZHp:function(t,e){}});
//# sourceMappingURL=8.2278d4b842d659606cea.js.map