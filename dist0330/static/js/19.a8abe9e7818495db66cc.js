webpackJsonp([19],{qJCd:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("34v0"),n=a.n(o),l={data:function(){return{params:{keyword1:"",keyword2:"",level:""},columns:[{title:"代理商",key:"agent",render:function(t,e){return t("span",{},e.row.agent&&e.row.agent.realname+"/"+e.row.agent.phone)}},{title:"等级",key:"level",render:function(t,e){return t("span",{},{1:"一级",2:"二级"}[e.row.agent&&e.row.agent.level])}},{title:"货物编号",key:"goods",render:function(t,e){return t("span",{},e.row.goods&&e.row.goods.serial)}},{title:"货物名称",key:"goods",render:function(t,e){return t("span",{},e.row.goods&&e.row.goods.name)}},{title:"货物总量",key:"total"},{title:"剩余库存",key:"remain"}],itemId:0,modal1:!1,formData:{role_name:""},rule:{}}},computed:{modelTitle:function(){return this.itemId?"编辑":"新增"}},mounted:function(){},methods:{handleAdd:function(){this.modal1=!0,this.itemId=0,this.$refs.form.resetFields()},handleEdit:function(t){this.modal1=!0,this.itemId=t.id},handleSubmit:function(){var t=this;this.itemId?this.$post("role/edit",{id:this.itemId}).then(function(e){t.modal1=!1,t.handleSearch(),t.$post("admin/detail",{}).then(function(e){t.$store.dispatch("setUserInfoAction",e.data)})}):this.$post("role/add",{role_name:this.formData.role_name}).then(function(e){t.modal1=!1,t.handleSearch()})},handleExport:function(){var t=this;this.$Modal.confirm({title:"温馨提示",content:"确定导出数据 ?",onOk:function(){t.$post("stock/list",n()({},t.params,{export:1})).then(function(t){window.location.href=t.data.filename})},onCancel:function(){}})}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"dt-search-top"},[a("div",{staticClass:"dt-search-cells"},[a("div",{staticClass:"dt-search-cell"},[a("Input",{staticClass:"dt-search-input",attrs:{placeholder:"代理商姓名、手机号"},model:{value:t.params.keyword1,callback:function(e){t.$set(t.params,"keyword1",e)},expression:"params.keyword1"}})],1),t._v(" "),a("div",{staticClass:"dt-search-cell"},[a("Input",{staticClass:"dt-search-input",attrs:{placeholder:"货物编号、名称"},model:{value:t.params.keyword2,callback:function(e){t.$set(t.params,"keyword2",e)},expression:"params.keyword2"}})],1),t._v(" "),a("div",{staticClass:"dt-search-cell"},[t._v("\n        等级：\n        "),a("Select",{staticClass:"dt-search-select",model:{value:t.params.level,callback:function(e){t.$set(t.params,"level",e)},expression:"params.level"}},[a("Option",{attrs:{value:"0"}},[t._v("全部")]),t._v(" "),a("Option",{attrs:{value:"1"}},[t._v("一级")]),t._v(" "),a("Option",{attrs:{value:"2"}},[t._v("二级")])],1)],1)]),t._v(" "),a("div",{staticClass:"dt-search-operation"},[a("Button",{attrs:{type:"ghost"},on:{click:t.handleSearch}},[t._v("查询")]),t._v(" "),a("Button",{attrs:{type:"info"},on:{click:t.handleExport}},[t._v("导出")])],1)]),t._v(" "),a("dt-table",{ref:"table",attrs:{url:"stock/list",params:t.params,columns:t.columns}}),t._v(" "),a("Modal",{attrs:{title:t.modelTitle,"mask-closable":!1},model:{value:t.modal1,callback:function(e){t.modal1=e},expression:"modal1"}},[a("Form",{ref:"form",attrs:{model:t.formData,rules:t.rule,"label-width":100}},[a("FormItem",{attrs:{label:"角色名称",prop:"role_name"}},[a("Input",{attrs:{placeholder:"请输入角色名称",maxlength:10},model:{value:t.formData.role_name,callback:function(e){t.$set(t.formData,"role_name",e)},expression:"formData.role_name"}})],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"ghost"},on:{click:function(e){t.handleSubmit()}}},[t._v("保存")]),t._v(" "),a("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"text"},on:{click:function(e){t.modal1=!1}}},[t._v("取消")])],1)],1)],1)},staticRenderFns:[]},s=a("Mz/3")(l,r,!1,null,null,null);e.default=s.exports}});
//# sourceMappingURL=19.a8abe9e7818495db66cc.js.map