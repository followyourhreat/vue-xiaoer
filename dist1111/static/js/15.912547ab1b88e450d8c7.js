webpackJsonp([15],{bX2e:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Edqs"),o=a.n(s),l={data:function(){var t=this;return{params:{keyword:""},columns:[{title:"编号",key:"serial"},{title:"名称",key:"name"},{title:"描述",key:"descr"},{title:"操作",width:150,key:"operation",render:function(e,a){return e("div",[e("span",{class:"span-active",on:{click:function(){t.handleEdit(a.row)}}},"编辑"),e("span",{class:"span-del",on:{click:function(){t.handleRemove("goods/del",{id:a.row.id})}}},"删除")])}}],itemId:0,modal1:!1,formData:{serial:"",name:"",descr:""},rule:{}}},computed:{modelTitle:function(){return this.itemId?"编辑":"新增"}},mounted:function(){},methods:{handleAdd:function(){this.modal1=!0,this.itemId=0,this.$refs.form.resetFields()},handleEdit:function(t){this.modal1=!0,this.itemId=t.id,this.formData=o()({},t)},handleSubmit:function(){var t=this,e={};this.itemId?(e=o()({},this.formData,{id:this.itemId}),this.$post("goods/edit",e).then(function(e){t.modal1=!1,t.handleSearch()})):(e=o()({},this.formData),this.$post("goods/add",e).then(function(e){t.modal1=!1,t.handleSearch()}))}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"dt-search-top"},[a("div",{staticClass:"dt-search-cells"},[a("div",{staticClass:"dt-search-cell"},[a("Input",{staticClass:"dt-search-input",attrs:{placeholder:"编号，货物名称"},model:{value:t.params.keyword,callback:function(e){t.$set(t.params,"keyword",e)},expression:"params.keyword"}})],1)]),t._v(" "),a("div",{staticClass:"dt-search-operation"},[a("Button",{attrs:{type:"ghost"},on:{click:t.handleSearch}},[t._v("查询")]),t._v(" "),a("Button",{attrs:{type:"success"},on:{click:t.handleAdd}},[t._v("新增")])],1)]),t._v(" "),a("dt-table",{ref:"table",attrs:{url:"goods/list",params:t.params,columns:t.columns}}),t._v(" "),a("Modal",{attrs:{title:t.modelTitle,"mask-closable":!1},model:{value:t.modal1,callback:function(e){t.modal1=e},expression:"modal1"}},[a("Form",{ref:"form",attrs:{model:t.formData,rules:t.rule,"label-width":100}},[a("FormItem",{attrs:{label:"编号",prop:"serial"}},[a("Input",{attrs:{placeholder:"请输入编号"},model:{value:t.formData.serial,callback:function(e){t.$set(t.formData,"serial",e)},expression:"formData.serial"}})],1),t._v(" "),a("FormItem",{attrs:{label:"名称",prop:"name"}},[a("Input",{attrs:{placeholder:"请输入名称"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t._v(" "),a("FormItem",{attrs:{label:"描述",prop:"descr"}},[a("Input",{attrs:{type:"textarea",placeholder:"请输入描述"},model:{value:t.formData.descr,callback:function(e){t.$set(t.formData,"descr",e)},expression:"formData.descr"}})],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"ghost"},on:{click:function(e){t.handleSubmit()}}},[t._v("保存")]),t._v(" "),a("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"text"},on:{click:function(e){t.modal1=!1}}},[t._v("取消")])],1)],1)],1)},staticRenderFns:[]},n=a("Mz/3")(l,r,!1,null,null,null);e.default=n.exports}});
//# sourceMappingURL=15.912547ab1b88e450d8c7.js.map