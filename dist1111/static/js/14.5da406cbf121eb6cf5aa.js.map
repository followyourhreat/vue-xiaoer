{"version":3,"sources":["webpack:///src/pages/6_shop/list2.vue","webpack:///./src/pages/6_shop/list2.vue?eb5e","webpack:///./src/pages/6_shop/list2.vue"],"names":["list2","data","params","keyword1","keyword2","level","columns","title","key","render","h","row","agent","realname","phone","1","2","goods","serial","name","itemId","modal1","formData","role_name","rule","computed","modelTitle","this","mounted","methods","handleAdd","$refs","form","resetFields","handleEdit","item","id","handleSubmit","_this","$post","then","res","handleSearch","$store","dispatch","handleExport","_this2","$Modal","confirm","content","onOk","extends_default","export","window","location","href","filename","onCancel","__shop_list2","_vm","_h","$createElement","_c","_self","staticClass","attrs","placeholder","model","value","callback","$$v","$set","expression","_v","type","on","click","ref","url","mask-closable","rules","label-width","label","prop","maxlength","slot","$event","staticStyle","margin-left","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/14.5da406cbf121eb6cf5aa.js","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"dt-search-top\">\r\n      <div class=\"dt-search-cells\">\r\n        <div class=\"dt-search-cell\">\r\n          <Input v-model=\"params.keyword1\" class=\"dt-search-input\" placeholder=\"代理商姓名、手机号\" />\r\n        </div>\r\n        <div class=\"dt-search-cell\">\r\n          <Input v-model=\"params.keyword2\" class=\"dt-search-input\" placeholder=\"货物编号、名称\" />\r\n        </div>\r\n        <div class=\"dt-search-cell\">\r\n          等级：\r\n          <Select v-model=\"params.level\" class=\"dt-search-select\">\r\n            <Option value=\"0\">全部</Option>\r\n            <Option value=\"1\">一级</Option>\r\n            <Option value=\"2\">二级</Option>\r\n          </Select>\r\n        </div>\r\n      </div>\r\n      <div class=\"dt-search-operation\">\r\n        <Button type=\"ghost\" @click=\"handleSearch\">查询</Button>\r\n        <Button type=\"info\" @click=\"handleExport\">导出</Button>\r\n      </div>\r\n    </div>\r\n    <dt-table ref=\"table\" url=\"stock/list\" :params=\"params\" :columns=\"columns\"></dt-table>\r\n    <Modal v-model=\"modal1\" :title=\"modelTitle\" :mask-closable=\"false\">\r\n      <Form ref=\"form\" :model=\"formData\" :rules=\"rule\" :label-width=\"100\">\r\n        <FormItem label=\"角色名称\" prop=\"role_name\">\r\n          <Input v-model=\"formData.role_name\" placeholder=\"请输入角色名称\" :maxlength=\"10\"></Input>\r\n        </FormItem>\r\n      </Form>\r\n      <div slot=\"footer\">\r\n        <Button type=\"ghost\" @click=\"handleSubmit()\">保存</Button>\r\n        <Button type=\"text\" @click=\"modal1 = false\" style=\"margin-left: 8px\">取消</Button>\r\n      </div>\r\n    </Modal>\r\n  </div>\r\n</template>\r\n<script>\r\n  export default {\r\n    data () {\r\n      return {\r\n        params: {\r\n          keyword1: '',\r\n          keyword2: '',\r\n          level: '',\r\n        },\r\n        columns: [\r\n          { title: '代理商',\r\n            key: 'agent',\r\n            render: (h, params) => {\r\n              const label = params.row.agent && `${params.row.agent.realname}/${params.row.agent.phone}`\r\n              return h('span', {}, label)\r\n            }\r\n          },\r\n          { title: '等级',\r\n            key: 'level',\r\n            render: (h, params) => {\r\n              const obj = {'1': '一级','2': '二级'}\r\n              const label = obj[params.row.agent && params.row.agent.level]\r\n              return h('span', {}, label)\r\n            }\r\n          },\r\n          { title: '货物编号',\r\n            key: 'goods',\r\n            render: (h, params) => {\r\n              const label = params.row.goods && params.row.goods.serial\r\n              return h('span', {}, label)\r\n            }\r\n          },\r\n          { title: '货物名称',\r\n            key: 'goods',\r\n            render: (h, params) => {\r\n              const label = params.row.goods && params.row.goods.name\r\n              return h('span', {}, label)\r\n            }\r\n          },\r\n          { title: '货物总量', key: 'total' },\r\n          { title: '剩余库存', key: 'remain' },\r\n        ],\r\n        itemId: 0,\r\n        modal1: false,\r\n        formData: {\r\n          role_name: '',\r\n        },\r\n        rule: {\r\n          \r\n        },\r\n      }\r\n    },\r\n    computed: {\r\n      modelTitle(){\r\n        return this.itemId?'编辑':'新增'\r\n      }\r\n    }, \r\n    mounted () {\r\n      \r\n    },\r\n    methods: {\r\n      handleAdd() {\r\n        this.modal1 = true;\r\n        this.itemId = 0;\r\n        this.$refs.form.resetFields();\r\n      },\r\n      handleEdit(item) {\r\n        this.modal1 = true;\r\n        this.itemId = item.id;\r\n      },\r\n      handleSubmit() {\r\n        if(this.itemId){\r\n          this.$post('role/edit',\r\n            {\r\n              id: this.itemId,\r\n            }\r\n          ).then( res => {\r\n            this.modal1 = false;\r\n            this.handleSearch()\r\n            this.$post('admin/detail', {}).then( res => {\r\n              this.$store.dispatch('setUserInfoAction',res.data)\r\n            })\r\n          })\r\n        }else{\r\n          this.$post('role/add',\r\n            {\r\n              role_name: this.formData.role_name,\r\n            }\r\n          ).then( res => {\r\n            this.modal1 = false;\r\n            this.handleSearch()\r\n          })\r\n        }\r\n      },\r\n      handleExport() {\r\n        this.$Modal.confirm({\r\n          title: '温馨提示',\r\n          content: '确定导出数据 ?',\r\n          onOk: () => {\r\n            this.$post('stock/list',\r\n              {\r\n                ...this.params,\r\n                export: 1\r\n              }\r\n            ).then( res => {\r\n              window.location.href = res.data.filename\r\n            })\r\n          },\r\n          onCancel: () => {\r\n\r\n          }\r\n        });\r\n      }\r\n    },\r\n  };\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/pages/6_shop/list2.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"dt-search-top\"},[_c('div',{staticClass:\"dt-search-cells\"},[_c('div',{staticClass:\"dt-search-cell\"},[_c('Input',{staticClass:\"dt-search-input\",attrs:{\"placeholder\":\"代理商姓名、手机号\"},model:{value:(_vm.params.keyword1),callback:function ($$v) {_vm.$set(_vm.params, \"keyword1\", $$v)},expression:\"params.keyword1\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"dt-search-cell\"},[_c('Input',{staticClass:\"dt-search-input\",attrs:{\"placeholder\":\"货物编号、名称\"},model:{value:(_vm.params.keyword2),callback:function ($$v) {_vm.$set(_vm.params, \"keyword2\", $$v)},expression:\"params.keyword2\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"dt-search-cell\"},[_vm._v(\"\\n        等级：\\n        \"),_c('Select',{staticClass:\"dt-search-select\",model:{value:(_vm.params.level),callback:function ($$v) {_vm.$set(_vm.params, \"level\", $$v)},expression:\"params.level\"}},[_c('Option',{attrs:{\"value\":\"0\"}},[_vm._v(\"全部\")]),_vm._v(\" \"),_c('Option',{attrs:{\"value\":\"1\"}},[_vm._v(\"一级\")]),_vm._v(\" \"),_c('Option',{attrs:{\"value\":\"2\"}},[_vm._v(\"二级\")])],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"dt-search-operation\"},[_c('Button',{attrs:{\"type\":\"ghost\"},on:{\"click\":_vm.handleSearch}},[_vm._v(\"查询\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"info\"},on:{\"click\":_vm.handleExport}},[_vm._v(\"导出\")])],1)]),_vm._v(\" \"),_c('dt-table',{ref:\"table\",attrs:{\"url\":\"stock/list\",\"params\":_vm.params,\"columns\":_vm.columns}}),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":_vm.modelTitle,\"mask-closable\":false},model:{value:(_vm.modal1),callback:function ($$v) {_vm.modal1=$$v},expression:\"modal1\"}},[_c('Form',{ref:\"form\",attrs:{\"model\":_vm.formData,\"rules\":_vm.rule,\"label-width\":100}},[_c('FormItem',{attrs:{\"label\":\"角色名称\",\"prop\":\"role_name\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入角色名称\",\"maxlength\":10},model:{value:(_vm.formData.role_name),callback:function ($$v) {_vm.$set(_vm.formData, \"role_name\", $$v)},expression:\"formData.role_name\"}})],1)],1),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{attrs:{\"type\":\"ghost\"},on:{\"click\":function($event){_vm.handleSubmit()}}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('Button',{staticStyle:{\"margin-left\":\"8px\"},attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.modal1 = false}}},[_vm._v(\"取消\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-5563804d\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/6_shop/list2.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/.13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/.13.7.3@vue-loader/lib/selector?type=script&index=0!./list2.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/.13.7.3@vue-loader/lib/selector?type=script&index=0!./list2.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/.13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5563804d\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/.13.7.3@vue-loader/lib/selector?type=template&index=0!./list2.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/6_shop/list2.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}