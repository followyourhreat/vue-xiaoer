{"version":3,"sources":["webpack:///src/pages/4_finance/list2.vue","webpack:///./src/pages/4_finance/list2.vue?bc6f","webpack:///./src/pages/4_finance/list2.vue"],"names":["list2","data","_this","this","params","keyword","cash_num","business_num","start_time","end_time","check_start_time","check_end_time","columns","title","key","render","h","0","1","2","row","is_agree","width","Date","ctime","Format","utime","class","on","click","handleEdit","itemId","modal1","formData","reason","rule","menuList","computed","modelTitle","mounted","methods","handleDateSelect","val","handleDateSelect2","handleAdd","$refs","form","resetFields","item","id","assign_default","handleSubmit","_this2","$post","then","res","handleSearch","handleExport","_this3","$Modal","confirm","content","onOk","extends_default","export","window","location","href","filename","onCancel","__finance_list2","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","placeholder","model","value","callback","$$v","$set","expression","_v","on-select","type","ref","url","mask-closable","rules","label-width","label","prop","slot","$event","margin-left","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/22.89ca36a99722c56e69e0.js","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"dt-search-top\">\r\n      <div class=\"dt-search-cells\">\r\n        <div class=\"dt-search-cell\">\r\n          <Input\r\n            v-model=\"params.keyword\"\r\n            class=\"dt-search-input\"\r\n            style=\"width: 350px\"\r\n            placeholder=\"分润单号、代理商姓名、代理商账号、代理商手机\"\r\n          />\r\n        </div>\r\n        <div class=\"dt-search-cell\">\r\n          申请时间：\r\n          <dt-selectDate class=\"dt-search-date\" @on-select=\"handleDateSelect\"/>\r\n        </div>\r\n        <div class=\"dt-search-cell\">\r\n          审核时间：\r\n          <dt-selectDate class=\"dt-search-date\" @on-select=\"handleDateSelect2\"/>\r\n        </div>\r\n      </div>\r\n      <div class=\"dt-search-operation\">\r\n        <Button type=\"ghost\" @click=\"handleSearch\">查询</Button>\r\n        <!-- <Button type=\"info\" @click=\"handleExport\">导出</Button> -->\r\n      </div>\r\n    </div>\r\n    <dt-table ref=\"table\" url=\"cash/list\" :params=\"params\" :columns=\"columns\"></dt-table>\r\n    <Modal v-model=\"modal1\" :title=\"modelTitle\" :mask-closable=\"false\">\r\n      <Form ref=\"form\" :model=\"formData\" :rules=\"rule\" :label-width=\"100\">\r\n        <FormItem label=\"审批\" prop=\"reason\">\r\n          <Input type=\"textarea\" v-model=\"formData.reason\" placeholder=\"请输入审批理由\"></Input>\r\n        </FormItem>\r\n      </Form>\r\n      <div slot=\"footer\">\r\n        <Button type=\"ghost\" @click=\"handleSubmit(1)\">通过</Button>\r\n        <Button type=\"text\" @click=\"handleSubmit(2)\" style=\"margin-left: 8px\">拒绝</Button>\r\n      </div>\r\n    </Modal>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      params: {\r\n        keyword: \"\",\r\n        cash_num: \"\",\r\n        business_num: \"\",\r\n        start_time: \"\",\r\n        end_time: \"\",\r\n        check_start_time: \"\",\r\n        check_end_time: \"\"\r\n      },\r\n      columns: [\r\n        { title: \"提现单号\", key: \"cash_num\" },\r\n        { title: \"代理商姓名\", key: \"realname\" },\r\n        { title: \"代理商账号\", key: \"username\" },\r\n        { title: \"代理商手机\", key: \"phone\" },\r\n        { title: \"用户余额\", key: \"remain_amount\" },\r\n        { title: \"提现金额\", key: \"cash_amount\" },\r\n        { title: \"手续费\", key: \"service_fee\" },\r\n        {\r\n          title: \"状态\",\r\n          key: \"is_agree\",\r\n          render: (h, params) => {\r\n            const obj = { \"0\": \"待审核\", \"1\": \"通过\", \"2\": \"拒绝\" };\r\n            const label = obj[params.row.is_agree];\r\n            return h(\"span\", {}, label);\r\n          }\r\n        },\r\n        { title: \"商户号\", key: \"business_num\" },\r\n        { title: \"原因\", key: \"reason\" },\r\n        {\r\n          title: \"申请时间\",\r\n          key: \"ctime\",\r\n          width: 150,\r\n          render: (h, params) => {\r\n            const label = new Date(params.row.ctime * 1000).Format(\r\n              \"yyyy-MM-dd hh:mm\"\r\n            );\r\n            return h(\"span\", {}, label);\r\n          }\r\n        },\r\n        {\r\n          title: \"审核时间\",\r\n          key: \"utime\",\r\n          width: 150,\r\n          render: (h, params) => {\r\n            const label = new Date(params.row.utime * 1000).Format(\r\n              \"yyyy-MM-dd hh:mm\"\r\n            );\r\n            return h(\"span\", {}, label);\r\n          }\r\n        },\r\n        {\r\n          title: \"操作\",\r\n          width: 150,\r\n          key: \"operation\",\r\n          render: (h, params) => {\r\n            if (params.row.is_agree == \"0\") {\r\n              return h(\"div\", [\r\n                h(\r\n                  \"span\",\r\n                  {\r\n                    class: \"span-active\",\r\n                    on: {\r\n                      click: () => {\r\n                        this.handleEdit(params.row);\r\n                      }\r\n                    }\r\n                  },\r\n                  \"审核\"\r\n                )\r\n              ]);\r\n            } else {\r\n              return h(\"span\", {}, \"-\");\r\n            }\r\n          }\r\n        }\r\n      ],\r\n      itemId: 0,\r\n      modal1: false,\r\n      formData: {\r\n        reason: \"\"\r\n      },\r\n      rule: {},\r\n      menuList: []\r\n    };\r\n  },\r\n  computed: {\r\n    modelTitle() {\r\n      return this.itemId ? \"编辑\" : \"新增\";\r\n    }\r\n  },\r\n  mounted() {},\r\n  methods: {\r\n    handleDateSelect(val) {\r\n      this.params.start_time = val[0];\r\n      this.params.end_time = val[1];\r\n    },\r\n    handleDateSelect2(val) {\r\n      this.params.check_start_time = val[0];\r\n      this.params.check_end_time = val[1];\r\n    },\r\n    handleAdd() {\r\n      this.modal1 = true;\r\n      this.itemId = 0;\r\n      this.$refs.form.resetFields();\r\n    },\r\n    handleEdit(item) {\r\n      this.modal1 = true;\r\n      this.itemId = item.id;\r\n      this.formData = Object.assign({}, item);\r\n    },\r\n    handleSubmit(val) {\r\n      if (this.itemId) {\r\n        this.$post(\"cash/check\", {\r\n          id: this.itemId,\r\n          reason: this.formData.reason,\r\n          is_agree: val\r\n        }).then(res => {\r\n          this.modal1 = false;\r\n          this.handleSearch();\r\n        });\r\n      } else {\r\n        this.$post(\"cash/check\", {\r\n          id: this.itemId,\r\n          reason: this.formData.reason,\r\n          is_agree: val\r\n        }).then(res => {\r\n          this.modal1 = false;\r\n          this.handleSearch();\r\n        });\r\n      }\r\n    },\r\n    handleExport() {\r\n      this.$Modal.confirm({\r\n        title: \"温馨提示\",\r\n        content: \"确定导出数据 ?\",\r\n        onOk: () => {\r\n          this.$post(\"profit/list\", {\r\n            ...this.params,\r\n            export: 1\r\n          }).then(res => {\r\n            window.location.href = res.data.filename;\r\n          });\r\n        },\r\n        onCancel: () => {}\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/pages/4_finance/list2.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"dt-search-top\"},[_c('div',{staticClass:\"dt-search-cells\"},[_c('div',{staticClass:\"dt-search-cell\"},[_c('Input',{staticClass:\"dt-search-input\",staticStyle:{\"width\":\"350px\"},attrs:{\"placeholder\":\"分润单号、代理商姓名、代理商账号、代理商手机\"},model:{value:(_vm.params.keyword),callback:function ($$v) {_vm.$set(_vm.params, \"keyword\", $$v)},expression:\"params.keyword\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"dt-search-cell\"},[_vm._v(\"\\n        申请时间：\\n        \"),_c('dt-selectDate',{staticClass:\"dt-search-date\",on:{\"on-select\":_vm.handleDateSelect}})],1),_vm._v(\" \"),_c('div',{staticClass:\"dt-search-cell\"},[_vm._v(\"\\n        审核时间：\\n        \"),_c('dt-selectDate',{staticClass:\"dt-search-date\",on:{\"on-select\":_vm.handleDateSelect2}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"dt-search-operation\"},[_c('Button',{attrs:{\"type\":\"ghost\"},on:{\"click\":_vm.handleSearch}},[_vm._v(\"查询\")])],1)]),_vm._v(\" \"),_c('dt-table',{ref:\"table\",attrs:{\"url\":\"cash/list\",\"params\":_vm.params,\"columns\":_vm.columns}}),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":_vm.modelTitle,\"mask-closable\":false},model:{value:(_vm.modal1),callback:function ($$v) {_vm.modal1=$$v},expression:\"modal1\"}},[_c('Form',{ref:\"form\",attrs:{\"model\":_vm.formData,\"rules\":_vm.rule,\"label-width\":100}},[_c('FormItem',{attrs:{\"label\":\"审批\",\"prop\":\"reason\"}},[_c('Input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"请输入审批理由\"},model:{value:(_vm.formData.reason),callback:function ($$v) {_vm.$set(_vm.formData, \"reason\", $$v)},expression:\"formData.reason\"}})],1)],1),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{attrs:{\"type\":\"ghost\"},on:{\"click\":function($event){_vm.handleSubmit(1)}}},[_vm._v(\"通过\")]),_vm._v(\" \"),_c('Button',{staticStyle:{\"margin-left\":\"8px\"},attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.handleSubmit(2)}}},[_vm._v(\"拒绝\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-4ab1b656\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/4_finance/list2.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/.13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/.13.7.3@vue-loader/lib/selector?type=script&index=0!./list2.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/.13.7.3@vue-loader/lib/selector?type=script&index=0!./list2.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/.13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4ab1b656\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/.13.7.3@vue-loader/lib/selector?type=template&index=0!./list2.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/4_finance/list2.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}