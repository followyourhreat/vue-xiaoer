webpackJsonp([9],{Lhvu:function(t,e){},cx2z:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o("Edqs"),n=o.n(a),r={data:function(){return{params:{id:""},props:["key"],formData:{delay_over:"",delay_deduct:"",good_over:"",good_reward:"",bad_below:"",bad_deduct:""},comments:[],itemId:0,modal1:!1,rule:{},formData2:{id:"",content:""},active:!1}},computed:{modelTitle:function(){return this.itemId?"编辑":"新增"}},mounted:function(){this.getMessage(),this.getComments()},methods:{getMessage:function(){var t=this;this.$post("reward-deduct/detail",{page:0}).then(function(e){t.formData=e.data})},handleRemove2:function(){var t,e=this;t=n()({},this.comments),console.log(t),this.$Modal.confirm({title:"温馨提示",content:"确定删除数据 ?",onOk:function(){e.$post("comments/del",t.row.id).then(function(t){e.$Message.success("删除成功"),e.handleSearch()})},onCancel:function(){}})},handleAdd:function(){this.modal1=!0,this.itemId=0,this.$refs.form.resetFields()},delComment:function(t,e){t.splice(e,1),console.log(e)},handleSubmit:function(){this.$post("reward-deduct/edit",{delay_over:this.formData.delay_over,delay_deduct:this.formData.delay_deduct,good_over:this.formData.good_over,good_reward:this.formData.good_reward,bad_below:this.formData.bad_below,bad_deduct:this.formData.bad_deduct}).then(function(t){})},handleSubmit2:function(){var t,e=this;t=n()({},this.formData2),this.$post("comments/add",t).then(function(t){e.modal1=!1,e.handleSearch(),e.getComments()})},handleRemove3:function(t){var e=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments[2];this.$Modal.confirm({title:"温馨提示",content:"确定删除数据 ?",onOk:function(){e.$post(t,o).then(function(t){e.$Message.success("删除成功"),e.handleSearch(),e.delComment(e.comments,a)})},onCancel:function(){}})},getComments:function(){var t=this;this.$post("comments/list",{page:0}).then(function(e){t.comments=e.data,console.log(t.comments)})},selectStyle:function(t){this.$set(t,"active",!1)}}},s={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"page-form2"},[o("Form",{ref:"form",attrs:{model:t.formData,rules:t.rule}},[o("Row",[o("Col",{attrs:{span:"8"}},[o("FormItem",{attrs:{label:"延期扣款:",prop:"delay_over"}},[o("Input",{attrs:{placeholder:"延期超过多少小时"},model:{value:t.formData.delay_over,callback:function(e){t.$set(t.formData,"delay_over",e)},expression:"formData.delay_over"}})],1),t._v(" "),o("FormItem",{attrs:{prop:"delay_deduct"}},[o("Input",{attrs:{placeholder:"\t\n    延期超过设定时间后扣除金额"},model:{value:t.formData.delay_deduct,callback:function(e){t.$set(t.formData,"delay_deduct",e)},expression:"formData.delay_deduct"}})],1)],1),t._v(" "),o("Col",{attrs:{span:"8"}},[o("FormItem",{attrs:{label:"好评奖励:",prop:"good_over"}},[o("Input",{attrs:{placeholder:"月度达到多少分"},model:{value:t.formData.good_over,callback:function(e){t.$set(t.formData,"good_over",e)},expression:"formData.good_over"}})],1),t._v(" "),o("FormItem",{attrs:{prop:"good_reward"}},[o("Input",{attrs:{placeholder:"奖励金额"},model:{value:t.formData.good_reward,callback:function(e){t.$set(t.formData,"good_reward",e)},expression:"formData.good_reward"}})],1)],1),t._v(" "),o("Col",{attrs:{span:"8"}},[o("FormItem",{attrs:{label:"差额扣款:",prop:"bad_below"}},[o("Input",{attrs:{placeholder:"月度低于多少分"},model:{value:t.formData.bad_below,callback:function(e){t.$set(t.formData,"bad_below",e)},expression:"formData.bad_below"}})],1),t._v(" "),o("FormItem",{attrs:{prop:"good_reward"}},[o("Input",{attrs:{placeholder:"扣款金额"},model:{value:t.formData.bad_deduct,callback:function(e){t.$set(t.formData,"bad_deduct",e)},expression:"formData.bad_deduct"}})],1)],1)],1),t._v(" "),o("FormItem",{attrs:{label:"",prop:""}},[o("Button",{attrs:{type:"ghost"},on:{click:function(e){t.handleSubmit()}}},[t._v("保存")])],1)],1),t._v(" "),t._m(0),t._v(" "),o("div",{staticClass:"word-container"}),t._v(" "),o("div",{staticClass:"word-box"},[o("ul",[t._l(t.comments,function(e,a){return o("li",{key:e.index,staticClass:"word-li"},[o("span",[t._v(t._s(e.content))]),t._v(" "),o("em",{staticClass:"word-close",attrs:{name:e.id},on:{click:function(o){t.handleRemove3("comments/del",{id:e.id},a)}}})])}),t._v(" "),o("Button",{attrs:{slot:"extra",size:"large"},on:{click:t.handleAdd},slot:"extra"},[t._v("+")])],2)])],1),t._v(" "),o("Modal",{attrs:{title:t.modelTitle,"mask-closable":!1},model:{value:t.modal1,callback:function(e){t.modal1=e},expression:"modal1"}},[o("Form",{ref:"form",attrs:{model:t.formData2,rules:t.rule,"label-width":100}},[o("FormItem",{attrs:{label:"新增评价",prop:"content"}},[o("Input",{attrs:{placeholder:"请输入评价"},model:{value:t.formData2.content,callback:function(e){t.$set(t.formData2,"content",e)},expression:"formData2.content"}})],1)],1),t._v(" "),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("Button",{attrs:{type:"ghost"},on:{click:function(e){t.handleSubmit2()}}},[t._v("保存")]),t._v(" "),o("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"text"},on:{click:function(e){t.modal1=!1}}},[t._v("取消")])],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"word-wraper"},[e("span",{staticClass:"word-control"},[this._v("词条管理")]),this._v(" "),e("span",{staticClass:"line-split"})])}]};var l=o("Mz/3")(r,s,!1,function(t){o("Lhvu")},"data-v-07ef7790",null);e.default=l.exports}});
//# sourceMappingURL=9.159c65e450e60063483c.js.map